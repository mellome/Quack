{
  "_args": [
    [
      {
        "raw": "popper@^1.0.1",
        "scope": null,
        "escapedName": "popper",
        "name": "popper",
        "rawSpec": "^1.0.1",
        "spec": ">=1.0.1 <2.0.0",
        "type": "range"
      },
      "/Users/mellome1992/LocalRepository/webtech2-blog/quackapp-frontend/src/main/angular"
    ]
  ],
  "_from": "popper@>=1.0.1 <2.0.0",
  "_id": "popper@1.0.1",
  "_inCache": true,
  "_location": "/popper",
  "_nodeVersion": "8.8.0",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/popper-1.0.1.tgz_1511749060668_0.5045129319187254"
  },
  "_npmUser": {
    "name": "pemrouz",
    "email": "p3pedram@hotmail.com"
  },
  "_npmVersion": "5.5.1",
  "_phantomChildren": {},
  "_requested": {
    "raw": "popper@^1.0.1",
    "scope": null,
    "escapedName": "popper",
    "name": "popper",
    "rawSpec": "^1.0.1",
    "spec": ">=1.0.1 <2.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/popper/-/popper-1.0.1.tgz",
  "_shasum": "a3153910a01ce328a297cb241924afff0690837e",
  "_shrinkwrap": null,
  "_spec": "popper@^1.0.1",
  "_where": "/Users/mellome1992/LocalRepository/webtech2-blog/quackapp-frontend/src/main/angular",
  "author": {
    "name": "Pedram Emrouznejad",
    "url": "https://github.com/pemrouz"
  },
  "bin": {
    "popper": "./cli"
  },
  "bugs": {
    "url": "https://github.com/pemrouz/popper/issues"
  },
  "dependencies": {
    "browser-icons": "*",
    "browserify": "^12.0.0",
    "buble": "^0.16.0",
    "chai": "*",
    "chokidar": "*",
    "colors": "^1.1.2",
    "compression": "*",
    "cryonic": "^1.0.0",
    "express": "^4.12.4",
    "js-yaml": "*",
    "minimist": "*",
    "mocha": "*",
    "ngrok": "*",
    "platform": "*",
    "rijs": "*",
    "rijs.core": "*",
    "rijs.css": "*",
    "rijs.data": "*",
    "rijs.fn": "*",
    "rijs.npm": "*",
    "rijs.resdir": "*",
    "rijs.sync": "*",
    "serve-static": "*",
    "utilise": "*",
    "wd": "*"
  },
  "description": "Realtime Cross-Browser Automation",
  "devDependencies": {
    "uglifyjs": "^2.4.10"
  },
  "directories": {},
  "dist": {
    "integrity": "sha512-i/6yRlY5+VomX0ScQ5TI4Ro8XlQbOj7NMRf0hSnUEVv/aAP6IbrxvNcRsrEG6VsKzvltfINPeD4p++6SKwOTSA==",
    "shasum": "a3153910a01ce328a297cb241924afff0690837e",
    "tarball": "https://registry.npmjs.org/popper/-/popper-1.0.1.tgz"
  },
  "gitHead": "a3afa20f5fe7d9f74cc24dfe676205912aa07028",
  "homepage": "https://github.com/pemrouz/popper#readme",
  "license": "pemrouz.mit-license.org",
  "main": "index.js",
  "maintainers": [
    {
      "name": "pemrouz",
      "email": "p3pedram@hotmail.com"
    }
  ],
  "name": "popper",
  "optionalDependencies": {
    "ngrok": "*"
  },
  "readme": "# Popper: Realtime Cross-Browser Automation\r\n\r\nThe benefit of the ubiquity of the Web is also its pain point when it comes to accurate testing. It is common to see handwavy statements for browser compatibility, for example \"IE9+\", as if every other OS/platform combination will be just fine if IE9 \"works\"! For those who need more realistic data, this module makes it _much_ easier to test code earlier on in the development lifecycle, even in realtime. \r\n\r\n![image](https://cloud.githubusercontent.com/assets/2184177/8728132/6a211df0-2bdb-11e5-8295-cb2e9f836203.png)\r\n_Snapshot of Test Results for Ripple v0.3 on latest Chrome, Firefox, IE, Android and iOS_\r\n\r\n## Features\r\n\r\n* **Spawn** agents using BrowserStack/Sauce\r\n* **Multi-repo** testing, where changing one module might affect others (e.g microlibs in [utilise](https://github.com/utilise/utilise) or modules in [ripple v0.3](https://github.com/pemrouz/ripple))\r\n* **Aggregate** results per-repo, per-browser and globally in realtime \r\n* Rerun on **file change**\r\n* Open your own browser tabs to act as test agents, useful for **enterprise context**\r\n* Automatic **OS/Browser identification** and simple icons\r\n* **CLI** with convenient defaults\r\n* `.popper.yml` file for persisting test **config per repo**\r\n* Proxy console/error statements, making **remote debugging** on mobile devices a lot easier\r\n* **Force a rerun** on a particular agent\r\n* **View a snapshot of the results page** stream in as produced by the agent\r\n* **CI Integration** by having `npm test` run `popper` which will return exit cleanly if the tests pass in all defined browsers\r\n* **Increase CI Timeout** by setting `POPPER_TIMEOUT=milliseconds` to help investigate why a CI test is failiing (defaults to 20s)\r\n* **Optional Tunnel** to allow completely disabling the tunnelling via ngrok\r\n* Add your own [remote farm](https://github.com/pemrouz/popper/tree/0.1.0/src/farms)\r\n* Add your own [test runner](https://github.com/pemrouz/popper/tree/0.1.0/src/client)\r\n\r\nSee [roadmap issues label](https://github.com/pemrouz/popper/labels/roadmap) for upcoming features/idea.\r\n\r\n## Usage \r\n\r\n```bash\r\n# since this uses lots and lots of tiny libs, I recommend using npm3\r\nnpm i -g popper # install globally\r\nnpm i -D popper # install locally\r\n\r\n# to run\r\npopper\r\n\r\n# to also see logs from each browser in terminal window\r\nNODE_ENV=debug popper \r\n\r\n# if you are using browserstack\r\nexport BROWSERSTACK_USERNAME=...\r\nexport BROWSERSTACK_KEY=...\r\n```\r\n\r\nOnce running, open a browser tab to `localhost:1945` (or the external ngrok URL) to run the tests, and keep open `localhost:1945/dashboard` to see the results as you continue to make changes. If you specified any `browsers`, they will be launched on BrowserStack and pointed to the test page.\r\n\r\nWhen you run `popper` in a folder:\r\n\r\n* If there is a `popper.js` file, it will run that ([example](https://github.com/pemrouz/ripple/blob/master/popper.js))\r\n* If there is a `popper.yml` file, it will use options from that ([example](https://github.com/utilise/utilise/blob/master/.popper.yml))\r\n* If there are any command-line arguments passed, those will take precedence in overriding the `.yml` config\r\n* If there is nothing, it will default convenient options so you can just jump into most repos and run `popper`\r\n\r\n### CLI Options\r\n\r\nYou can set all the following options using via the CLI, YAML or JS API:\r\n\r\n```\r\n usage: popper\r\n\r\n options:\r\n    -b, --browsers: browser to spawn and run tests on, defaults to none\r\n    -t, --test: command to generate test bundle, defaults to \"browserify test.js\"\r\n    -p, --port: port to run on, defaults to 1945\r\n    -w, --watch: files to watch for changes, defaults to .\r\n    -n, --notunnel: disable opening tunnel, defaults to open\r\n    -l, --timeout: maximum time to wait in ci mode for results, defaults to POPPER_TIMEOUT or 20000\r\n    -r, --runner: the runner to use, either mocha or tape, defatuls to mocha\r\n    -f, --farm: the remote browser farm to spawn browsers in, defaults to browserstack\r\n```\r\n\r\n### Default Options\r\n\r\nIf any of the options are missing from the local YAML config or CLI arguments, they will default to:\r\n\r\n* Globals: `none`\r\n* Browsers: `none`\r\n* Test: `browserify test.js`\r\n* Port: `1945`\r\n* Watch: `.`\r\n* Disable Tunnel: `false`\r\n* Runner: `mocha`\r\n* Timeout: `process.env.POPPER_TIMEOUT || 20000`\r\n* Farm: `browserstack`\r\n\r\n### YAML Options ([Example](https://github.com/utilise/utilise/blob/master/.popper.yml) | [Example](https://github.com/rijs/reactive/blob/master/.popper.yml))\r\n\r\n```yaml\r\n# these will be added to the head\r\nglobals:\r\n  - <script src=\"https://cdn.polyfill.io/v1/polyfill.min.js\"></script>\r\n  - <script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js\" charset=\"utf-8\"></script>\r\n  - <script src=\"https://cdnjs.cloudflare.com/ajax/libs/chai/3.0.0/chai.min.js\"></script>\r\n  - <script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js\"></script>\r\n\r\n# this is the command to generate the tests bundle on startup and after a file change detected\r\ntests: browserify ./node_modules/*/test.js\r\n  -i moment\r\n  -i colors\r\n  -i jsdom\r\n  -i chai\r\n  -i d3\r\n  -i ./node_modules/pause/test.js\r\n  -i ./node_modules/send/test.js\r\n  -i ./node_modules/file/test.js\r\n  -i ./node_modules/via/test.js\r\n  | sed -E \"s/require\\('moment'\\)/window.moment/\"\r\n  | sed -E \"s/require\\('chai'\\)/window.chai/\"\r\n  | sed -E \"s/require\\('d3'\\)/window.d3/\"\r\n  | uglifyjs\r\n\r\n# browsers to spawn in browserstack/sauce \r\n# can be wd capabilities object to specify os, device, version, etc: https://www.browserstack.com/automate/capabilities\r\nbrowsers: \r\n  - ie9\r\n  - android\r\n  - iphone\r\n  - opera\r\n  - safari\r\n\r\n# port to run on locally\r\nport: 1945\r\n\r\n# glob(s) to watch for file changes\r\nwatch: ./node_modules/*/index.js\r\n```\r\n\r\nIn this case, the test command will rebuild the project before bundling the tests after each file change.\r\n\r\n```yaml\r\nglobals:\r\n  - <script src=\"https://cdn.polyfill.io/v1/polyfill.min.js\"></script>\r\n  - <script src=\"https://cdnjs.cloudflare.com/ajax/libs/chai/3.0.0/chai.min.js\"></script>\r\n\r\ntests: (npm run build > /dev/null) && browserify ./test.js\r\n  -i colors\r\n  -i chai\r\n  | sed -E \"s/require\\('chai'\\)/window.chai/\"\r\n  | uglifyjs\r\n\r\nwatch: \r\n  - src\r\n  - test.js\r\n```\r\n\r\n### JS Options ([Example](https://github.com/pemrouz/ripple/blob/master/popper.js))\r\n\r\n```js\r\npopper = require('popper')\r\npopper = popper({ \r\n  watch: ['src', 'test']\r\n, port: 19450\r\n, tests: stream    // function that returns stream to be piped to the test bundle file\r\n, globals: string  // string of global script tags to add\r\n, browsers: array  // array of browsers to spawn\r\n})\r\n```\r\n\r\nPopper uses Ripple under the hood. The JS API is particularly useful if you need to extend the available resources. For example, for testing Ripple itself and it's server/client synchronisation module, I use the following to reset test resources before each test:\r\n\r\n```js\r\npopper.io.on('connection', function(socket){\r\n  socket.on('beforeEach', function(){\r\n    popper('foo'          , 'bar', headers())\r\n    popper('object'       , { a:0 , b:1, c:2 }, headers())\r\n    popper('array'        , [{i:0}, {i:1},{i:2}], headers())\r\n    popper({ name: 'proxy', body: [{i:0}, {i:1},{i:2}], headers: { to: to, from: from, 'cache-control': 'no-cache', silent: true, reactive: false }})\r\n    popper('my-component' , component, headers())\r\n    popper.sync(socket)()\r\n    socket.emit('done')\r\n  })\r\n})\r\n```\r\n\r\n## Contributing\r\n\r\n##### Adding a Farm\r\n\r\nIf you'd like to add a new remote browser farm, you just need to add a folder under [`/farms`](https://github.com/pemrouz/popper/tree/0.1.0/src/farms) and then you can set the `farm` option (via JS, YAML or CLI) to the name of your farm. The folder should contain two things (see [browserstack](https://github.com/pemrouz/popper/tree/0.1.0/src/farms/browserstack) for an example): \r\n\r\n  * `browsers.json`: Mapping of shorthands (e.g. `ie9`) to browser capability objects. Since there is different properties across services (e.g. `browser` vs `browserName`), you should also specify the properties `_name`, `_version`, `_os` and `_os_version` where applicable, which is what will show up in the popper logs.\r\n\r\n  * `connect`: A [connect function](https://github.com/pemrouz/popper/blob/0.1.0/src/farms/browserstack/index.js#L7-L16), which will take in a `wd` instance and using the relevant environment variables, connect to the service. If it failed to connect, it should return false.\r\n\r\n##### Adding a Runner\r\n\r\nIf you'd like to add a new test runner, you just need to add a folder [`/client`](https://github.com/pemrouz/popper/tree/0.1.0/src/client) and then you can set the `runner` option (via JS, YAML or CLI) to the name of your runner. The folder should contain two things (see [mocha](https://github.com/pemrouz/popper/tree/0.1.0/src/client/mocha) for an example): \r\n\r\n  * `index.html`: This is the HTML file that will be run on the test agent. You will also need a script (see `client.js`) that streams back the results of the test.\r\n\r\n  * `logs.html`: A HTML file that will be used from the dashboard (when you click \"View Results\") to format the read-only results of the tests run on a specific agent.\r\n\r\n\r\n  # Acknowledgements\r\n\r\n  Thanks to BrowserStack and SauceLabs for providing a free open source account for testing.",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/pemrouz/popper.git"
  },
  "scripts": {
    "build": "find ./client/*/client.js -exec sh -c \"FILE={}; RUNNER=${FILE:9:-10}; echo bundling client: $RUNNER; buble ./client/$RUNNER/client.js | browserify - -i utilise -i express -i colors > client/$RUNNER/client.min.js\" ';'",
    "postversion": "git push && git push --tags",
    "version": "npm run build && git add -A"
  },
  "version": "1.0.1"
}
